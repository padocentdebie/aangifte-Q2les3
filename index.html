<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Q2 Les 3 PV Aangifte</title>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@500;700&family=Rajdhani:wght@500;700&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --politie-lichtblauw: #e3f2fd;
            --politie-donkerblauw: #1a3a5a;
            --politie-geel: #fff9c4;
            --politie-goud: #fbc02d;
            --succes-groen: #2e7d32;
            --fout-rood: #c62828;
            --wit: #ffffff;
        }

        body { 
            font-family: 'Rajdhani', sans-serif; 
            background-color: #f4f7f9; 
            color: var(--politie-donkerblauw); 
            padding: 0; margin: 0; text-transform: uppercase;
            height: 100vh; display: flex; flex-direction: column;
        }
        
        header { 
            background-color: var(--politie-donkerblauw); 
            color: white;
            border-bottom: 4px solid var(--politie-goud); 
            padding: 15px 25px; flex-shrink: 0;
        }
        
        h1 { font-family: 'Oswald', sans-serif; font-size: 24px; margin: 0; letter-spacing: 1px; }

        .disclaimer {
            background: var(--politie-geel); padding: 8px 25px; font-size: 11px; 
            text-transform: none; border-bottom: 1px solid #e6db74; flex-shrink: 0;
            color: #555;
        }

        .main-layout {
            display: grid;
            grid-template-columns: 420px 1fr;
            flex-grow: 1;
            overflow: hidden;
        }

        .samir-kolom {
            background-color: var(--politie-lichtblauw);
            border-right: 3px solid var(--politie-donkerblauw);
            padding: 30px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            overflow-y: auto;
        }

        .samir-box {
            background: var(--wit);
            border: 2px solid var(--politie-donkerblauw);
            padding: 25px;
            box-shadow: 5px 5px 0px var(--politie-goud);
        }

        .samir-tekst {
            text-transform: none; font-weight: 600; color: #111; font-size: 19px; line-height: 1.6; font-style: italic;
        }

        .werk-kolom {
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            padding: 30px 50px;
            gap: 30px;
        }

        .blok {
            background: var(--wit);
            border: 1px solid #cfd8dc;
            padding: 30px;
            border-radius: 2px;
        }

        .titel-blok { 
            font-family: 'Oswald'; 
            margin-bottom: 20px; 
            color: var(--politie-donkerblauw); 
            font-size: 20px;
            border-bottom: 2px solid var(--politie-lichtblauw);
            padding-bottom: 10px;
        }

        textarea { 
            width: 100%; height: 160px; padding: 15px; border: 2px solid #e0e0e0; 
            font-size: 17px; font-family: 'Roboto Mono'; resize: none; text-transform: none; 
            box-sizing: border-box; margin-bottom: 15px; background: #fdfdfd;
        }

        .inlever-button {
            width: 100%; padding: 18px; background: var(--politie-donkerblauw); color: white;
            font-family: 'Oswald'; border: none; cursor: pointer; font-size: 18px; letter-spacing: 1px;
        }

        #highlightbox { 
            white-space: pre-wrap; line-height: 2.5; font-size: 18px; 
            text-transform: none; color: #222; min-height: 100px; padding: 20px; 
            background: #fff; border: 1px inset #eee;
        }

        .feedback-veld {
            width: 100%; height: 120px; border: 2px dashed var(--politie-goud);
            padding: 15px; font-family: 'Rajdhani'; text-transform: none; box-sizing: border-box;
            background-color: #fffde7; font-size: 16px;
        }

        .score-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-top: 20px; }
        .score-unit { background: #f8f9fa; border: 1px solid #eee; padding: 15px; text-align: center; }
        .score-val { font-family: 'Oswald'; font-size: 26px; display: block; color: var(--politie-donkerblauw); }
        .score-label { font-size: 12px; font-weight: bold; color: #666; }

        .hl-ovt { background-color: var(--succes-groen); color: white; padding: 2px 5px; border-radius: 3px; }
        .hl-vd { background-color: var(--fout-rood); color: white; padding: 2px 5px; border-radius: 3px; }
        .hl-wet { border-bottom: 4px solid var(--politie-donkerblauw); font-weight: bold; }
        .hl-w { background-color: var(--politie-geel); border-bottom: 3px solid var(--politie-goud); font-weight: bold; }
    </style>
</head>
<body>

<header>
    <h1>Q2 LES 3 PV AANGIFTE</h1>
</header>

<div class="disclaimer">
    PRIVACY-CHECK: DEZE APP DRAAIT VOLLEDIG LOKAAL. UW INGEVOERDE TEKSTEN WORDEN NIET VERZONDEN NAAR HET INTERNET OF OPGESLAGEN OP EEN SERVER.
</div>

<div class="main-layout">
    <aside class="samir-kolom">
        <div class="samir-box">
            <div class="titel-blok" style="border-color: var(--politie-goud);">BRON: SAMIR</div>
            <div class="samir-tekst">
                "Faka strijder! Goed dat je die pen pakt. Luister, ik chillde op die Stadhuisplein, je weet zelf. Komt die skeere dader naar me toe, pakt m'n fittie uit m'n hand en rent weg. Hij flasht me gewoon hard op die plek. Schrijf die ding goed op voor die officier!"
            </div>
        </div>
        
        <div style="background: var(--wit); padding: 15px; border: 1px solid var(--politie-donkerblauw); text-transform: none; font-size: 13px;">
            <b>WOORDENLIJST SAMIR:</b><br>
            • <i>Fittie</i> = Mobiele telefoon<br>
            • <i>Skeer</i> = Armoedig / Verpauperd<br>
            • <i>Flashen</i> = Bestelen / Oplichten
        </div>
    </aside>

    <main class="werk-kolom">
        <section class="blok">
            <div class="titel-blok">1. FORMALISEER DE AANGIFTE</div>
            <textarea id="pvInput" placeholder="Vertaal Samir's verhaal hier naar een formeel PV..."></textarea>
            <button class="inlever-button" onclick="analyseerTekst()">ANALYSEER & LEVER IN</button>
        </section>

        <section class="blok">
            <div class="titel-blok">2. ANALYSE-RESULTAAT</div>
            <div id="highlightbox">De geanalyseerde tekst verschijnt hier na het inleveren...</div>
            <div class="score-grid">
                <div class="score-unit"><span class="score-val" id="s-w">0</span><span class="score-label">GOUDEN W'S</span></div>
                <div class="score-unit"><span class="score-val" id="s-wet">0</span><span class="score-label">WETENSCHAP</span></div>
                <div class="score-unit"><span class="score-val" id="s-ovt">0</span><span class="score-label">OVT (GOED)</span></div>
                <div class="score-unit"><span class="score-val" id="s-vd">0</span><span class="score-label">VOLT. DEELW.</span></div>
            </div>
        </section>

        <section class="blok">
            <div class="titel-blok">3. COLLEGIALE FEEDBACK</div>
            <textarea class="feedback-veld" placeholder="Schrijf hier je feedback..."></textarea>
        </section>
    </main>
</div>

<script>
function analyseerTekst() {
    let tekst = document.getElementById('pvInput').value;
    if(!tekst) return;
    let h = { w:0, ovt:0, vd:0, wet:0 };
    const wLijst = ["wie", "wat", "waar", "wanneer", "waarom", "waarmee", "op welke wijze"];
    const wetWoorden = ["zag dat", "hoorde dat", "nam waat dat", "rook dat", "voelde dat", "verklaarde dat", "waarnam dat"];

    wLijst.forEach(w => {
        let r = new RegExp('\\b'+w+'\\b', 'gi');
        tekst = tekst.replace(r, m => { h.w++; return `<span class="hl-w">${m}</span>`; });
    });
    wetWoorden.forEach(w => {
        let r = new RegExp(w, 'gi');
        tekst = tekst.replace(r, m => { h.wet++; return `<span class="hl-wet">${m}</span>`; });
    });
    const ovtRegex = /\b(liep|stond|keek|zag|hoorde|pakte|rende|kwam|sloeg|bevond|waarnam|verklaarde|vroeg|vond|vroegen|stonden|liepen|hoorden)\b|\b(\w+(de|te|den|ten))\b/gi;
    tekst = tekst.replace(ovtRegex, m => { if(m.includes('<span')) return m; h.ovt++; return `<span class="hl-ovt">${m}</span>`; });
    const vdRegex = /\b(heb|heeft|ben|is|was|werd|wordt|worden|hebben|zijn|waren|werden)\s+(\w+([dt]))\b|\b(ge\w+[dt])\b/gi;
    tekst = tekst.replace(vdRegex, m => { if(m.includes('<span')) return m; h.vd++; return `<span class="hl-vd">${m}</span>`; });

    document.getElementById('highlightbox').innerHTML = tekst;
    document.getElementById('s-w').innerText = h.w;
    document.getElementById('s-wet').innerText = h.wet;
    document.getElementById('s-ovt').innerText = h.ovt;
    document.getElementById('s-vd').innerText = h.vd;
    document.querySelector('.werk-kolom').scrollTo({ top: 450, behavior: 'smooth' });
}
</script>
</body>
</html>
